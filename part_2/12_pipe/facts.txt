1) обращу внимание на то что чтобы это корректно работало надо добавлять символ завершения строки в буффер, иначе получим невнятные символы в конце
2) Тут В сервере стоит удалять именованный канал, иначе получается что если запустить сервер и не запускать клиент, потом положить сервер и попытаться поднять вновь то получим ошибку потому как канал уже существует
3) Для меня немного странно что strtok(NULL, "|"); продолжает разбор тойже строки.